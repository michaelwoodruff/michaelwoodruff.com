function displaypinboardfeed(e){if(e.error)console.log("Error fetching pinboard feed!");else{var t=e.feed.entries;pinboardrssoutput+="<ul>";for(var i=0;i<t.length;i++)pubdate=new Date(t[i].publishedDate),pubdate=moment(pubdate).format("dddd, MMMM Do YYYY, h:mm A"),pinboardrssoutput+="<li><a href='"+t[i].link+'\'><i class="fa fa-thumb-tack fa-lg"></i><div class="post">'+t[i].title+'<div class="pubdate">'+pubdate+"</div></div></a></li>";pinboardrssoutput+="</ul>",pinboardfeedcontainer.innerHTML=pinboardrssoutput}}function pinboardrssfeedsetup(){var e=new google.feeds.Feed(pinboardfeedurl);e.setNumEntries(pinboardfeedlimit),e.load(displaypinboardfeed)}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=e.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new e.validator(t,this[0]),e.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.settings.submitHandler&&(i.submitButton=t.target),e(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(t){function n(){var n,a;return!i.settings.submitHandler||(i.submitButton&&(n=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(e(i.submitButton).val()).appendTo(i.currentForm)),a=i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&n.remove(),void 0!==a&&a)}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)},valid:function(){var t,i,n;return e(this[0]).is("form")?t=this.validate().form():(n=[],t=!0,i=e(this[0].form).validate(),this.each(function(){(t=i.element(this)&&t)||(n=n.concat(i.errorList))}),i.errorList=n),t},rules:function(t,i){if(this.length){var n,a,r,s,o,l,d=this[0];if(t)switch(n=e.data(d.form,"validator").settings,a=n.rules,r=e.validator.staticRules(d),t){case"add":e.extend(r,e.validator.normalizeRule(i)),delete r.messages,a[d.name]=r,i.messages&&(n.messages[d.name]=e.extend(n.messages[d.name],i.messages));break;case"remove":return i?(l={},e.each(i.split(/\s/),function(t,i){l[i]=r[i],delete r[i],"required"===i&&e(d).removeAttr("aria-required")}),l):(delete a[d.name],r)}return s=e.validator.normalizeRules(e.extend({},e.validator.classRules(d),e.validator.attributeRules(d),e.validator.dataRules(d),e.validator.staticRules(d)),d),s.required&&(o=s.required,delete s.required,s=e.extend({required:o},s),e(d).attr("aria-required","true")),s.remote&&(o=s.remote,delete s.remote,s=e.extend(s,{remote:o})),s}}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){var i=e(t).val();return null!==i&&!!e.trim(""+i)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,i){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=i,this.init()},e.validator.format=function(t,i){return 1===arguments.length?function(){var i=e.makeArray(arguments);return i.unshift(t),e.validator.format.apply(this,i)}:void 0===i?t:(arguments.length>2&&i.constructor!==Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return i})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,i){var n=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===i.which&&""===this.elementValue(t)||-1!==e.inArray(i.keyCode,n)||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,i,n){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(n):e(t).addClass(i).removeClass(n)},unhighlight:function(t,i,n){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(n):e(t).removeClass(i).addClass(n)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var i=e.data(this.form,"validator"),n="on"+t.type.replace(/^validate/,""),a=i.settings;a[n]&&!e(this).is(a.ignore)&&a[n].call(i,this,t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){n[i]=t})}),i=this.settings.rules,e.each(i,function(t,n){i[t]=e.validator.normalizeRule(n)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var i,n,a=this.clean(t),r=this.validationTargetFor(a),s=this,o=!0;return void 0===r?delete this.invalid[a.name]:(this.prepareElement(r),this.currentElements=e(r),n=this.groups[r.name],n&&e.each(this.groups,function(e,t){t===n&&e!==r.name&&(a=s.validationTargetFor(s.clean(s.findByName(e))))&&a.name in s.invalid&&(s.currentElements.push(a),o=o&&s.check(a))}),i=!1!==this.check(r),o=o&&i,this.invalid[r.name]=!i,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!i)),o},showErrors:function(t){if(t){var i=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,function(e,t){return{message:e,element:i.findByName(t)[0]}}),this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)e[t]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var n=this.name||e(this).attr("name");return!n&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0]),!(n in i||!t.objectLength(e(this).rules()))&&(i[n]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var i,n,a=e(t),r=t.type;return"radio"===r||"checkbox"===r?this.findByName(t.name).filter(":checked").val():"number"===r&&void 0!==t.validity?t.validity.badInput?"NaN":a.val():(i=t.hasAttribute("contenteditable")?a.text():a.val(),"file"===r?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(n=i.lastIndexOf("/"),n>=0?i.substr(n+1):(n=i.lastIndexOf("\\"),n>=0?i.substr(n+1):i)):"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var i,n,a,r=e(t).rules(),s=e.map(r,function(e,t){return t}).length,o=!1,l=this.elementValue(t);if("function"==typeof r.normalizer){if("string"!=typeof(l=r.normalizer.call(t,l)))throw new TypeError("The normalizer should return a string value.");delete r.normalizer}for(n in r){a={method:n,parameters:r[n]};try{if("dependency-mismatch"===(i=e.validator.methods[n].call(this,l,t,a.parameters))&&1===s){o=!0;continue}if(o=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,a),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+a.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+a.method+"' method."),e}}if(!o)return this.objectLength(r)&&this.successList.push(t),!0},customDataMessage:function(t,i){return e(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,i){var n=this.findDefined(this.customMessage(t.name,i.method),this.customDataMessage(t,i.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[i.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),a=/\$?\{(\d+)\}/g;return"function"==typeof n?n=n.call(this,i.parameters,t):a.test(n)&&(n=e.validator.format(n.replace(a,"{$1}"),i.parameters)),n},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t);this.errorList.push({message:i,element:e,method:t.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,i;for(e=0;this.errorList[e];e++)i=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var n,a,r,s,o=this.errorsFor(t),l=this.idOrName(t),d=e(t).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(i)):(o=e("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||""),n=o,this.settings.wrapper&&(n=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement(n,e(t)):n.insertAfter(t),o.is("label")?o.attr("for",l):0===o.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(r=o.attr("id"),d?d.match(new RegExp("\\b"+this.escapeCssMeta(r)+"\\b"))||(d+=" "+r):d=r,e(t).attr("aria-describedby",d),(a=this.groups[t.name])&&(s=this,e.each(s.groups,function(t,i){i===a&&e("[name='"+s.escapeCssMeta(t)+"']",s.currentForm).attr("aria-describedby",o.attr("id"))})))),!i&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,t)),this.toShow=this.toShow.add(o)},errorsFor:function(t){var i=this.escapeCssMeta(this.idOrName(t)),n=e(t).attr("aria-describedby"),a="label[for='"+i+"'], label[for='"+i+"'] *";return n&&(a=a+", #"+this.escapeCssMeta(n).replace(/\s+/g,", #")),this.errors().filter(a)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,i){return!!e(t,i.form).length},function:function(e,t){return e(t)}},optional:function(t){var i=this.elementValue(t);return!e.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,i){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:i})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:e.extend(this.classRuleSettings,t)},classRules:function(t){var i={},n=e(t).attr("class");return n&&e.each(n.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(i,e.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(e,t,i,n){/min|max|step/.test(i)&&(null===t||/number|range|text/.test(t))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?e[i]=n:t===i&&"range"!==t&&(e[i]=!0)},attributeRules:function(t){var i,n,a={},r=e(t),s=t.getAttribute("type");for(i in e.validator.methods)"required"===i?(n=t.getAttribute(i),""===n&&(n=!0),n=!!n):n=r.attr(i),this.normalizeAttributeRule(a,s,i,n);return a.maxlength&&/-1|2147483647|524288/.test(a.maxlength)&&delete a.maxlength,a},dataRules:function(t){var i,n,a={},r=e(t),s=t.getAttribute("type");for(i in e.validator.methods)n=r.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(a,s,i,n);return a},staticRules:function(t){var i={},n=e.data(t.form,"validator");return n.settings.rules&&(i=e.validator.normalizeRule(n.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return e.each(t,function(n,a){if(!1===a)return void delete t[n];if(a.param||a.depends){var r=!0;switch(typeof a.depends){case"string":r=!!e(a.depends,i.form).length;break;case"function":r=a.depends.call(i,i)}r?t[n]=void 0===a.param||a.param:(e.data(i.form,"validator").resetElements(e(i)),delete t[n])}}),e.each(t,function(n,a){t[n]=e.isFunction(a)&&"normalizer"!==n?a(i):a}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var i;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};e.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,n){e.validator.methods[t]=i,e.validator.messages[t]=void 0!==n?n:e.validator.messages[t],i.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var a=e(i).val();return a&&a.length>0}return this.checkable(i)?this.getLength(t,i)>0:t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,i,n){var a=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||a>=n},maxlength:function(t,i,n){var a=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||n>=a},rangelength:function(t,i,n){var a=e.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||a>=n[0]&&a<=n[1]},min:function(e,t,i){return this.optional(t)||e>=i},max:function(e,t,i){return this.optional(t)||i>=e},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},step:function(t,i,n){var a=e(i).attr("type"),r="Step attribute on input type "+a+" is not supported.",s=["text","number","range"],o=new RegExp("\\b"+a+"\\b");if(a&&!o.test(s.join()))throw new Error(r);return this.optional(i)||t%n==0},equalTo:function(t,i,n){var a=e(n);return this.settings.onfocusout&&a.not(".validate-equalTo-blur").length&&a.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){e(i).valid()}),t===a.val()},remote:function(t,i,n,a){if(this.optional(i))return"dependency-mismatch";a="string"==typeof a&&a||"remote";var r,s,o,l=this.previousValue(i,a);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[i.name][a],this.settings.messages[i.name][a]=l.message,n="string"==typeof n&&{url:n}||n,o=e.param(e.extend({data:t},n.data)),l.old===o?l.valid:(l.old=o,r=this,this.startRequest(i),s={},s[i.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:s,context:r.currentForm,success:function(e){var n,s,o,d=!0===e||"true"===e;r.settings.messages[i.name][a]=l.originalMessage,d?(o=r.formSubmitted,r.resetInternals(),r.toHide=r.errorsFor(i),r.formSubmitted=o,r.successList.push(i),r.invalid[i.name]=!1,r.showErrors()):(n={},s=e||r.defaultMessage(i,{method:a,parameters:t}),n[i.name]=l.message=s,r.invalid[i.name]=!0,r.showErrors(n)),l.valid=d,r.stopRequest(i,d)}},n)),"pending")}}});var t,i={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,n){var a=e.port;"abort"===e.mode&&(i[a]&&i[a].abort(),i[a]=n)}):(t=e.ajax,e.ajax=function(n){var a=("mode"in n?n:e.ajaxSettings).mode,r=("port"in n?n:e.ajaxSettings).port;return"abort"===a?(i[r]&&i[r].abort(),i[r]=t.apply(this,arguments),i[r]):t.apply(this,arguments)})}),function(e,t,i,n){function a(t,i){this.element=e(t),this.settings=e.extend({},C,i),this._defaults=C,this._name=u,this.init()}function r(t){x&&(t.element.addClass("navbar-hidden").animate({top:-1*parseInt(t.element.css("height"),10)+t.settings.navbarOffset},{queue:!1,duration:t.settings.animationDuration}),e(".dropdown.open .dropdown-toggle",t.element).dropdown("toggle"),x=!1)}function s(e){x||(e.element.removeClass("navbar-hidden").animate({top:0},{queue:!1,duration:e.settings.animationDuration}),x=!0)}function o(e){var t=f.scrollTop(),i=t-y;if(y=t,0>i){if(x)return;(e.settings.showOnUpscroll||c>=t)&&s(e)}else if(i>0){if(!x)return void(e.settings.showOnBottom&&t+w===p.height()&&s(e));t>=c&&r(e)}}function l(e){e.settings.disableAutohide||(b=(new Date).getTime(),o(e))}function d(e){p.on("scroll."+u,function(){(new Date).getTime()-b>v?l(e):(clearTimeout(m),m=setTimeout(function(){l(e)},v))}),f.on("resize."+u,function(){clearTimeout(g),g=setTimeout(function(){w=f.height()},v)})}function h(){p.off("."+u),f.off("."+u)}var c,u="autoHidingNavbar",f=e(t),p=e(i),m=null,g=null,v=70,b=0,y=null,w=f.height(),x=!0,C={disableAutohide:!1,showOnUpscroll:!0,showOnBottom:!0,hideOffset:"auto",animationDuration:200,navbarOffset:0};a.prototype={init:function(){return this.elements={navbar:this.element},this.setDisableAutohide(this.settings.disableAutohide),this.setShowOnUpscroll(this.settings.showOnUpscroll),this.setShowOnBottom(this.settings.showOnBottom),this.setHideOffset(this.settings.hideOffset),this.setAnimationDuration(this.settings.animationDuration),c="auto"===this.settings.hideOffset?parseInt(this.element.css("height"),10):this.settings.hideOffset,d(this),this.element},setDisableAutohide:function(e){return this.settings.disableAutohide=e,this.element},setShowOnUpscroll:function(e){return this.settings.showOnUpscroll=e,this.element},setShowOnBottom:function(e){return this.settings.showOnBottom=e,this.element},setHideOffset:function(e){return this.settings.hideOffset=e,this.element},setAnimationDuration:function(e){return this.settings.animationDuration=e,this.element},show:function(){return s(this),this.element},hide:function(){return r(this),this.element},destroy:function(){return h(this),s(this),e.data(this,"plugin_"+u,null),this.element}},e.fn[u]=function(t){var i=arguments;if(t===n||"object"==typeof t)return this.each(function(){e.data(this,"plugin_"+u)||e.data(this,"plugin_"+u,new a(this,t))});if("string"==typeof t&&"_"!==t[0]&&"init"!==t){var r;return this.each(function(){var n=e.data(this,"plugin_"+u);n instanceof a&&"function"==typeof n[t]&&(r=n[t].apply(n,Array.prototype.slice.call(i,1)))}),r!==n?r:this}}}(jQuery,window,document),function(e,t,i,n){"use strict";var a=i("html"),r=i(e),s=i(t),o=i.fancybox=function(){o.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),d=null,h=t.createTouch!==n,c=function(e){return e&&e.hasOwnProperty&&e instanceof i},u=function(e){return e&&"string"===i.type(e)},f=function(e){return u(e)&&e.indexOf("%")>0},p=function(e){return e&&!(e.style.overflow&&"hidden"===e.style.overflow)&&(e.clientWidth&&e.scrollWidth>e.clientWidth||e.clientHeight&&e.scrollHeight>e.clientHeight)},m=function(e,t){var i=parseInt(e,10)||0;return t&&f(e)&&(i=o.getViewport()[t]/100*i),Math.ceil(i)},g=function(e,t){return m(e,t)+"px"};i.extend(o,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!h,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){return e&&(i.isPlainObject(t)||(t={}),!1!==o.close(!0))?(i.isArray(e)||(e=c(e)?i(e).get():[e]),i.each(e,function(a,r){var s,l,d,h,f,p,m,g={};"object"===i.type(r)&&(r.nodeType&&(r=i(r)),c(r)?(g={href:r.data("fancybox-href")||r.attr("href"),title:r.data("fancybox-title")||r.attr("title"),isDom:!0,element:r},i.metadata&&i.extend(!0,g,r.metadata())):g=r),s=t.href||g.href||(u(r)?r:null),l=t.title!==n?t.title:g.title||"",d=t.content||g.content,h=d?"html":t.type||g.type,!h&&g.isDom&&((h=r.data("fancybox-type"))||(f=r.prop("class").match(/fancybox\.(\w+)/),h=f?f[1]:null)),u(s)&&(h||(o.isImage(s)?h="image":o.isSWF(s)?h="swf":"#"===s.charAt(0)?h="inline":u(r)&&(h="html",d=r)),"ajax"===h&&(p=s.split(/\s+/,2),s=p.shift(),m=p.shift())),d||("inline"===h?s?d=i(u(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):g.isDom&&(d=r):"html"===h?d=s:h||s||!g.isDom||(h="inline",d=r)),i.extend(g,{href:s,type:h,content:d,title:l,selector:m}),e[a]=g}),o.opts=i.extend(!0,{},o.defaults,t),t.keys!==n&&(o.opts.keys=!!t.keys&&i.extend({},o.defaults.keys,t.keys)),o.group=e,o._start(o.opts.index)):void 0},cancel:function(){var e=o.coming;e&&!1!==o.trigger("onCancel")&&(o.hideLoading(),o.ajaxLoad&&o.ajaxLoad.abort(),o.ajaxLoad=null,o.imgPreload&&(o.imgPreload.onload=o.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),o.coming=null,o.current||o._afterZoomOut(e))},close:function(e){o.cancel(),!1!==o.trigger("beforeClose")&&(o.unbindEvents(),o.isActive&&(o.isOpen&&!0!==e?(o.isOpen=o.isOpened=!1,o.isClosing=!0,i(".fancybox-item, .fancybox-nav").remove(),o.wrap.stop(!0,!0).removeClass("fancybox-opened"),o.transitions[o.current.closeMethod]()):(i(".fancybox-wrap").stop(!0).trigger("onReset").remove(),o._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(o.player.timer)},i=function(){t(),o.current&&o.player.isActive&&(o.player.timer=setTimeout(o.next,o.current.playSpeed))},n=function(){t(),s.unbind(".player"),o.player.isActive=!1,o.trigger("onPlayEnd")},a=function(){o.current&&(o.current.loop||o.current.index<o.group.length-1)&&(o.player.isActive=!0,s.bind({"onCancel.player beforeClose.player":n,"onUpdate.player":i,"beforeLoad.player":t}),i(),o.trigger("onPlayStart"))};!0===e||!o.player.isActive&&!1!==e?a():n()},next:function(e){var t=o.current;t&&(u(e)||(e=t.direction.next),o.jumpto(t.index+1,e,"next"))},prev:function(e){var t=o.current;t&&(u(e)||(e=t.direction.prev),o.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,i){var a=o.current;a&&(e=m(e),o.direction=t||a.direction[e>=a.index?"next":"prev"],o.router=i||"jumpto",a.loop&&(0>e&&(e=a.group.length+e%a.group.length),e%=a.group.length),a.group[e]!==n&&(o.cancel(),o._start(e)))},reposition:function(e,t){var n,a=o.current,r=a?a.wrap:null;r&&(n=o._getPosition(t),e&&"scroll"===e.type?(delete n.position,r.stop(!0,!0).animate(n,200)):(r.css(n),a.pos=i.extend({},a.dim,n)))},update:function(e){var t=e&&e.type,i=!t||"orientationchange"===t;i&&(clearTimeout(d),d=null),o.isOpen&&!d&&(d=setTimeout(function(){var n=o.current;n&&!o.isClosing&&(o.wrap.removeClass("fancybox-tmp"),(i||"load"===t||"resize"===t&&n.autoResize)&&o._setDimension(),
"scroll"===t&&n.canShrink||o.reposition(e),o.trigger("onUpdate"),d=null)},i&&!h?0:300))},toggle:function(e){o.isOpen&&(o.current.fitToView="boolean"===i.type(e)?e:!o.current.fitToView,h&&(o.wrap.removeAttr("style").addClass("fancybox-tmp"),o.trigger("onUpdate")),o.update())},hideLoading:function(){s.unbind(".loading"),i("#fancybox-loading").remove()},showLoading:function(){var e,t;o.hideLoading(),e=i('<div id="fancybox-loading"><div></div></div>').click(o.cancel).appendTo("body"),s.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),o.cancel())}),o.defaults.fixed||(t=o.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=o.current&&o.current.locked||!1,i={x:r.scrollLeft(),y:r.scrollTop()};return t?(i.w=t[0].clientWidth,i.h=t[0].clientHeight):(i.w=h&&e.innerWidth?e.innerWidth:r.width(),i.h=h&&e.innerHeight?e.innerHeight:r.height()),i},unbindEvents:function(){o.wrap&&c(o.wrap)&&o.wrap.unbind(".fb"),s.unbind(".fb"),r.unbind(".fb")},bindEvents:function(){var e,t=o.current;t&&(r.bind("orientationchange.fb"+(h?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),o.update),e=t.keys,e&&s.bind("keydown.fb",function(a){var r=a.which||a.keyCode,s=a.target||a.srcElement;return(27!==r||!o.coming)&&void(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||s&&(s.type||i(s).is("[contenteditable]"))||i.each(e,function(e,s){return t.group.length>1&&s[r]!==n?(o[e](s[r]),a.preventDefault(),!1):i.inArray(r,s)>-1?(o[e](),a.preventDefault(),!1):void 0}))}),i.fn.mousewheel&&t.mouseWheel&&o.wrap.bind("mousewheel.fb",function(e,n,a,r){for(var s=e.target||null,l=i(s),d=!1;l.length&&!(d||l.is(".fancybox-skin")||l.is(".fancybox-wrap"));)d=p(l[0]),l=i(l).parent();0===n||d||o.group.length>1&&!t.canShrink&&(r>0||a>0?o.prev(r>0?"down":"left"):(0>r||0>a)&&o.next(0>r?"up":"right"),e.preventDefault())}))},trigger:function(e,t){var n,a=t||o.coming||o.current;if(a){if(i.isFunction(a[e])&&(n=a[e].apply(a,Array.prototype.slice.call(arguments,1))),!1===n)return!1;a.helpers&&i.each(a.helpers,function(t,n){n&&o.helpers[t]&&i.isFunction(o.helpers[t][e])&&o.helpers[t][e](i.extend(!0,{},o.helpers[t].defaults,n),a)}),s.trigger(e)}},isImage:function(e){return u(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(e){return u(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,n,a,r,s,l={};if(e=m(e),!(t=o.group[e]||null))return!1;if(l=i.extend(!0,{},o.opts,t),r=l.margin,s=l.padding,"number"===i.type(r)&&(l.margin=[r,r,r,r]),"number"===i.type(s)&&(l.padding=[s,s,s,s]),l.modal&&i.extend(!0,l,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),l.autoSize&&(l.autoWidth=l.autoHeight=!0),"auto"===l.width&&(l.autoWidth=!0),"auto"===l.height&&(l.autoHeight=!0),l.group=o.group,l.index=e,o.coming=l,!1===o.trigger("beforeLoad"))return void(o.coming=null);if(a=l.type,n=l.href,!a)return o.coming=null,!(!o.current||!o.router||"jumpto"===o.router)&&(o.current.index=e,o[o.router](o.direction));if(o.isActive=!0,("image"===a||"swf"===a)&&(l.autoHeight=l.autoWidth=!1,l.scrolling="visible"),"image"===a&&(l.aspectRatio=!0),"iframe"===a&&h&&(l.scrolling="scroll"),l.wrap=i(l.tpl.wrap).addClass("fancybox-"+(h?"mobile":"desktop")+" fancybox-type-"+a+" fancybox-tmp "+l.wrapCSS).appendTo(l.parent||"body"),i.extend(l,{skin:i(".fancybox-skin",l.wrap),outer:i(".fancybox-outer",l.wrap),inner:i(".fancybox-inner",l.wrap)}),i.each(["Top","Right","Bottom","Left"],function(e,t){l.skin.css("padding"+t,g(l.padding[e]))}),o.trigger("onReady"),"inline"===a||"html"===a){if(!l.content||!l.content.length)return o._error("content")}else if(!n)return o._error("href");"image"===a?o._loadImage():"ajax"===a?o._loadAjax():"iframe"===a?o._loadIframe():o._afterLoad()},_error:function(e){i.extend(o.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:o.coming.tpl.error}),o._afterLoad()},_loadImage:function(){var e=o.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,o.coming.width=this.width/o.opts.pixelRatio,o.coming.height=this.height/o.opts.pixelRatio,o._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,o._error("image")},e.src=o.coming.href,!0!==e.complete&&o.showLoading()},_loadAjax:function(){var e=o.coming;o.showLoading(),o.ajaxLoad=i.ajax(i.extend({},e.ajax,{url:e.href,error:function(e,t){o.coming&&"abort"!==t?o._error("ajax",e):o.hideLoading()},success:function(t,i){"success"===i&&(e.content=t,o._afterLoad())}}))},_loadIframe:function(){var e=o.coming,t=i(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",h?"auto":e.iframe.scrolling).attr("src",e.href);i(e.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),e.iframe.preload&&(o.showLoading(),t.one("load",function(){i(this).data("ready",1),h||i(this).bind("load.fb",o.update),i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),o._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||o._afterLoad()},_preloadImages:function(){var e,t,i=o.group,n=o.current,a=i.length,r=n.preload?Math.min(n.preload,a-1):0;for(t=1;r>=t;t+=1)e=i[(n.index+t)%a],"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,n,a,r,s,l=o.coming,d=o.current,h="fancybox-placeholder";if(o.hideLoading(),l&&!1!==o.isActive){if(!1===o.trigger("afterLoad",l,d))return l.wrap.stop(!0).trigger("onReset").remove(),void(o.coming=null);switch(d&&(o.trigger("beforeChange",d),d.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),o.unbindEvents(),e=l,t=l.content,n=l.type,a=l.scrolling,i.extend(o,{wrap:e.wrap,skin:e.skin,outer:e.outer,inner:e.inner,current:e,previous:d}),r=e.href,n){case"inline":case"ajax":case"html":e.selector?t=i("<div>").html(t).find(e.selector):c(t)&&(t.data(h)||t.data(h,i('<div class="'+h+'"></div>').insertAfter(t).hide()),t=t.show().detach(),e.wrap.bind("onReset",function(){i(this).find(t).length&&t.hide().replaceAll(t.data(h)).data(h,!1)}));break;case"image":t=e.tpl.image.replace("{href}",r);break;case"swf":t='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+r+'"></param>',s="",i.each(e.swf,function(e,i){t+='<param name="'+e+'" value="'+i+'"></param>',s+=" "+e+'="'+i+'"'}),t+='<embed src="'+r+'" type="application/x-shockwave-flash" width="100%" height="100%"'+s+"></embed></object>"}c(t)&&t.parent().is(e.inner)||e.inner.append(t),o.trigger("beforeShow"),e.inner.css("overflow","yes"===a?"scroll":"no"===a?"hidden":a),o._setDimension(),o.reposition(),o.isOpen=!1,o.coming=null,o.bindEvents(),o.isOpened?d.prevMethod&&o.transitions[d.prevMethod]():i(".fancybox-wrap").not(e.wrap).stop(!0).trigger("onReset").remove(),o.transitions[o.isOpened?e.nextMethod:e.openMethod](),o._preloadImages()}},_setDimension:function(){var e,t,n,a,r,s,l,d,h,c,u,p,v,b,y,w=o.getViewport(),x=0,C=!1,k=!1,S=o.wrap,A=o.skin,L=o.inner,T=o.current,O=T.width,E=T.height,R=T.minWidth,M=T.minHeight,j=T.maxWidth,H=T.maxHeight,P=T.scrolling,_=T.scrollOutside?T.scrollbarWidth:0,z=T.margin,q=m(z[1]+z[3]),I=m(z[0]+z[2]);if(S.add(A).add(L).width("auto").height("auto").removeClass("fancybox-tmp"),e=m(A.outerWidth(!0)-A.width()),t=m(A.outerHeight(!0)-A.height()),n=q+e,a=I+t,r=f(O)?(w.w-n)*m(O)/100:O,s=f(E)?(w.h-a)*m(E)/100:E,"iframe"===T.type){if(b=T.content,T.autoHeight&&1===b.data("ready"))try{b[0].contentWindow.document.location&&(L.width(r).height(9999),y=b.contents().find("body"),_&&y.css("overflow-x","hidden"),s=y.outerHeight(!0))}catch(e){}}else(T.autoWidth||T.autoHeight)&&(L.addClass("fancybox-tmp"),T.autoWidth||L.width(r),T.autoHeight||L.height(s),T.autoWidth&&(r=L.width()),T.autoHeight&&(s=L.height()),L.removeClass("fancybox-tmp"));if(O=m(r),E=m(s),h=r/s,R=m(f(R)?m(R,"w")-n:R),j=m(f(j)?m(j,"w")-n:j),M=m(f(M)?m(M,"h")-a:M),H=m(f(H)?m(H,"h")-a:H),l=j,d=H,T.fitToView&&(j=Math.min(w.w-n,j),H=Math.min(w.h-a,H)),p=w.w-q,v=w.h-I,T.aspectRatio?(O>j&&(O=j,E=m(O/h)),E>H&&(E=H,O=m(E*h)),R>O&&(O=R,E=m(O/h)),M>E&&(E=M,O=m(E*h))):(O=Math.max(R,Math.min(O,j)),T.autoHeight&&"iframe"!==T.type&&(L.width(O),E=L.height()),E=Math.max(M,Math.min(E,H))),T.fitToView)if(L.width(O).height(E),S.width(O+e),c=S.width(),u=S.height(),T.aspectRatio)for(;(c>p||u>v)&&O>R&&E>M&&!(x++>19);)E=Math.max(M,Math.min(H,E-10)),O=m(E*h),R>O&&(O=R,E=m(O/h)),O>j&&(O=j,E=m(O/h)),L.width(O).height(E),S.width(O+e),c=S.width(),u=S.height();else O=Math.max(R,Math.min(O,O-(c-p))),E=Math.max(M,Math.min(E,E-(u-v)));_&&"auto"===P&&s>E&&p>O+e+_&&(O+=_),L.width(O).height(E),S.width(O+e),c=S.width(),u=S.height(),C=(c>p||u>v)&&O>R&&E>M,k=T.aspectRatio?l>O&&d>E&&r>O&&s>E:(l>O||d>E)&&(r>O||s>E),i.extend(T,{dim:{width:g(c),height:g(u)},origWidth:r,origHeight:s,canShrink:C,canExpand:k,wPadding:e,hPadding:t,wrapSpace:u-A.outerHeight(!0),skinSpace:A.height()-E}),!b&&T.autoHeight&&E>M&&H>E&&!k&&L.height("auto")},_getPosition:function(e){var t=o.current,i=o.getViewport(),n=t.margin,a=o.wrap.width()+n[1]+n[3],r=o.wrap.height()+n[0]+n[2],s={position:"absolute",top:n[0],left:n[3]};return t.autoCenter&&t.fixed&&!e&&r<=i.h&&a<=i.w?s.position="fixed":t.locked||(s.top+=i.y,s.left+=i.x),s.top=g(Math.max(s.top,s.top+(i.h-r)*t.topRatio)),s.left=g(Math.max(s.left,s.left+(i.w-a)*t.leftRatio)),s},_afterZoomIn:function(){var e=o.current;e&&(o.isOpen=o.isOpened=!0,o.wrap.css("overflow","visible").addClass("fancybox-opened"),o.update(),(e.closeClick||e.nextClick&&o.group.length>1)&&o.inner.css("cursor","pointer").bind("click.fb",function(t){i(t.target).is("a")||i(t.target).parent().is("a")||(t.preventDefault(),o[e.closeClick?"close":"next"]())}),e.closeBtn&&i(e.tpl.closeBtn).appendTo(o.skin).bind("click.fb",function(e){e.preventDefault(),o.close()}),e.arrows&&o.group.length>1&&((e.loop||e.index>0)&&i(e.tpl.prev).appendTo(o.outer).bind("click.fb",o.prev),(e.loop||e.index<o.group.length-1)&&i(e.tpl.next).appendTo(o.outer).bind("click.fb",o.next)),o.trigger("afterShow"),e.loop||e.index!==e.group.length-1?o.opts.autoPlay&&!o.player.isActive&&(o.opts.autoPlay=!1,o.play()):o.play(!1))},_afterZoomOut:function(e){e=e||o.current,i(".fancybox-wrap").trigger("onReset").remove(),i.extend(o,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),o.trigger("afterClose",e)}}),o.transitions={getOrigPosition:function(){var e=o.current,t=e.element,i=e.orig,n={},a=50,r=50,s=e.hPadding,l=e.wPadding,d=o.getViewport();return!i&&e.isDom&&t.is(":visible")&&(i=t.find("img:first"),i.length||(i=t)),c(i)?(n=i.offset(),i.is("img")&&(a=i.outerWidth(),r=i.outerHeight())):(n.top=d.y+(d.h-r)*e.topRatio,n.left=d.x+(d.w-a)*e.leftRatio),("fixed"===o.wrap.css("position")||e.locked)&&(n.top-=d.y,n.left-=d.x),n={top:g(n.top-s*e.topRatio),left:g(n.left-l*e.leftRatio),width:g(a+l),height:g(r+s)}},step:function(e,t){var i,n,a,r=t.prop,s=o.current,l=s.wrapSpace,d=s.skinSpace;("width"===r||"height"===r)&&(i=t.end===t.start?1:(e-t.start)/(t.end-t.start),o.isClosing&&(i=1-i),n="width"===r?s.wPadding:s.hPadding,a=e-n,o.skin[r](m("width"===r?a:a-l*i)),o.inner[r](m("width"===r?a:a-l*i-d*i)))},zoomIn:function(){var e=o.current,t=e.pos,n=e.openEffect,a="elastic"===n,r=i.extend({opacity:1},t);delete r.position,a?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===n&&(t.opacity=.1),o.wrap.css(t).animate(r,{duration:"none"===n?0:e.openSpeed,easing:e.openEasing,step:a?this.step:null,complete:o._afterZoomIn})},zoomOut:function(){var e=o.current,t=e.closeEffect,i="elastic"===t,n={opacity:.1};i&&(n=this.getOrigPosition(),e.closeOpacity&&(n.opacity=.1)),o.wrap.animate(n,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:i?this.step:null,complete:o._afterZoomOut})},changeIn:function(){var e,t=o.current,i=t.nextEffect,n=t.pos,a={opacity:1},r=o.direction,s=200;n.opacity=.1,"elastic"===i&&(e="down"===r||"up"===r?"top":"left","down"===r||"right"===r?(n[e]=g(m(n[e])-s),a[e]="+=200px"):(n[e]=g(m(n[e])+s),a[e]="-=200px")),"none"===i?o._afterZoomIn():o.wrap.css(n).animate(a,{duration:t.nextSpeed,easing:t.nextEasing,complete:o._afterZoomIn})},changeOut:function(){var e=o.previous,t=e.prevEffect,n={opacity:.1},a=o.direction;"elastic"===t&&(n["down"===a||"up"===a?"top":"left"]=("up"===a||"left"===a?"-":"+")+"=200px"),e.wrap.animate(n,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}},o.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!h,fixed:!0},overlay:null,fixed:!1,el:i("html"),create:function(e){e=i.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=i('<div class="fancybox-overlay"></div>').appendTo(o.coming?o.coming.parent:e.parent),this.fixed=!1,e.fixed&&o.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=i.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(r.bind("resize.overlay",i.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){return i(e.target).hasClass("fancybox-overlay")?(o.isActive?o.close():t.close(),!1):void 0}),this.overlay.css(e.css).show()},close:function(){var e,t;r.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(i(".fancybox-margin").removeClass("fancybox-margin"),e=r.scrollTop(),t=r.scrollLeft(),this.el.removeClass("fancybox-lock"),r.scrollTop(e).scrollLeft(t)),i(".fancybox-overlay").remove().hide(),i.extend(this,{overlay:null,fixed:!1})},update:function(){var e,i="100%";this.overlay.width(i).height("100%"),l?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),s.width()>e&&(i=s.width())):s.width()>r.width()&&(i=s.width()),this.overlay.width(i).height(s.height())},onReady:function(e,t){var n=this.overlay;i(".fancybox-overlay").stop(!0,!0),n||this.create(e),e.locked&&this.fixed&&t.fixed&&(n||(this.margin=s.height()>r.height()&&i("html").css("margin-right").replace("px","")),t.locked=this.overlay.append(t.wrap),t.fixed=!1),!0===e.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var n,a;t.locked&&(!1!==this.margin&&(i("*").filter(function(){return"fixed"===i(this).css("position")&&!i(this).hasClass("fancybox-overlay")&&!i(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),n=r.scrollTop(),a=r.scrollLeft(),this.el.addClass("fancybox-lock"),r.scrollTop(n).scrollLeft(a)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!o.coming&&this.overlay.fadeOut(e.speedOut,i.proxy(this.close,this))}},o.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t,n,a=o.current,r=a.title,s=e.type;if(i.isFunction(r)&&(r=r.call(a.element,a)),u(r)&&""!==i.trim(r)){switch(t=i('<div class="fancybox-title fancybox-title-'+s+'-wrap">'+r+"</div>"),s){case"inside":n=o.skin;break;case"outside":n=o.wrap;break;case"over":n=o.inner;break;default:n=o.skin,t.appendTo("body"),l&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),o.current.margin[2]+=Math.abs(m(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](n)}}},i.fn.fancybox=function(e){var t,n=i(this),a=this.selector||"",r=function(r){var s,l,d=i(this).blur(),h=t;r.ctrlKey||r.altKey||r.shiftKey||r.metaKey||d.is(".fancybox-wrap")||(s=e.groupAttr||"data-fancybox-group",l=d.attr(s),l||(s="rel",l=d.get(0)[s]),l&&""!==l&&"nofollow"!==l&&(d=a.length?i(a):n,d=d.filter("["+s+'="'+l+'"]'),h=d.index(this)),e.index=h,!1!==o.open(d,e)&&r.preventDefault())};return e=e||{},t=e.index||0,a&&!1!==e.live?s.undelegate(a,"click.fb-start").delegate(a+":not('.fancybox-item, .fancybox-nav')","click.fb-start",r):n.unbind("click.fb-start").bind("click.fb-start",r),this.filter("[data-fancybox-start=1]").trigger("click"),this},s.ready(function(){var t,r;i.scrollbarWidth===n&&(i.scrollbarWidth=function(){var e=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),n=t.innerWidth()-t.height(99).innerWidth();return e.remove(),n}),i.support.fixedPosition===n&&(i.support.fixedPosition=function(){var e=i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),t=20===e[0].offsetTop||15===e[0].offsetTop;return e.remove(),t}()),i.extend(o.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")}),t=i(e).width(),a.addClass("fancybox-lock-test"),r=i(e).width(),a.removeClass("fancybox-lock-test"),i("<style type='text/css'>.fancybox-margin{margin-right:"+(r-t)+"px;}</style>").appendTo("head")})}(window,document,jQuery),function($){"use strict";var e=function(e,t,i){return i=i||"","object"===$.type(i)&&(i=$.param(i,!0)),$.each(t,function(t,i){e=e.replace("$"+t,i||"")}),i.length&&(e+=(e.indexOf("?")>0?"&":"?")+i),e};$.fancybox.helpers.media={defaults:{youtube:{matcher:/(youtube\.com|youtu\.be|youtube-nocookie\.com)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"opaque",enablejsapi:1},type:"iframe",url:"//www.youtube.com/embed/$3"},vimeo:{matcher:/(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},type:"iframe",url:"//player.vimeo.com/video/$1"},metacafe:{matcher:/metacafe.com\/(?:watch|fplayer)\/([\w\-]{1,10})/,params:{autoPlay:"yes"},type:"swf",url:function(e,t,i){return i.swf.flashVars="playerVars="+$.param(t,!0),"//www.metacafe.com/fplayer/"+e[1]+"/.swf"}},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"swf",url:"//www.dailymotion.com/swf/video/$1"},twitvid:{matcher:/twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i,params:{autoplay:0},type:"iframe",url:"//www.twitvid.com/embed.php?guid=$1"},twitpic:{matcher:/twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i,type:"image",url:"//twitpic.com/show/full/$1/"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},google_maps:{matcher:/maps\.google\.([a-z]{2,3}(\.[a-z]{2})?)\/(\?ll=|maps\?)(.*)/i,type:"iframe",url:function(e){return"//maps.google."+e[1]+"/"+e[3]+e[4]+"&output="+(e[4].indexOf("layer=c")>0?"svembed":"embed")}}},beforeLoad:function(t,i){var n=i.href||"",a=!1,r,s,o,l;for(r in t)if(t.hasOwnProperty(r)&&(s=t[r],o=n.match(s.matcher))){a=s.type,l=$.extend(!0,{},s.params,i[r]||($.isPlainObject(t[r])?t[r].params:null)),n="function"===$.type(s.url)?s.url.call(this,o,l,i):e(s.url,o,l);break}a&&(i.href=n,i.type=a,i.autoHeight=!1)}}}(jQuery),google.load("feeds","1");var pinboardfeedcontainer=document.getElementById("pinboardfeed"),pinboardfeedurl="https://feeds.pinboard.in/rss/u:michaelwoodruff/?nocache="+(new Date).getTime(),pinboardfeedlimit=7,pinboardrssoutput="";$(document).ready(function(){$(document).on("click",".js-easter-egg",function(e){$(".sandbox-site").slideToggle("fast"),$(".sandbox-site .portfolio-group-item").addClass("fadeInUp").css("opacity",1)}),$(document).on("touchstart",".js-easter-egg",function(e){$(".sandbox-site").slideToggle("fast"),$(".sandbox-site .portfolio-group-item").addClass("fadeInUp").css("opacity",1)}),$(".page-content").addClass("fadeInUp").css("opacity",1),$(".portfolio-group-item").each(function(e){var t=$(this);setTimeout(function(){t.toggleClass("fadeInUp")},100*e)}),viewportWidth=$(document).width(),viewportWidth>=768&&$(".portfolio-group-item").on("touchstart",function(e){"use strict";var t=$(this);return!!t.hasClass("hover")||(t.addClass("hover"),$("a.taphover").not(this).removeClass("hover"),e.preventDefault(),!1)}),$(".dialog-default").fancybox({}),$(".dialog-image").fancybox(),$(".dialog-pdf").fancybox({wrapCSS:"fb-pdf",type:"iframe",openEffect:"none",closeEffect:"none",iframe:{preload:!1}});var e=$(document).scrollTop(),t=$(".page-header").outerHeight();$(window).scroll(function(){var i=$(document).scrollTop();i>t?$(".page-header").addClass("off-canvas"):$(".page-header").removeClass("off-canvas"),i>e?$(".page-header").removeClass("fixed"):$(".page-header").addClass("fixed"),e=$(document).scrollTop()}),$.validator.setDefaults({highlight:function(e){$(e).closest(".form-group").addClass("has-error animated shake")},unhighlight:function(e){$(e).closest(".form-group").removeClass("has-error animated shake")},errorElement:"div",errorClass:"error-msg",errorPlacement:function(e,t){t.parent(".input-group").length?e.insertAfter(t.parent()):e.insertAfter(t)}}),$(".form-validate").each(function(){$(this).validate()});var i=location.pathname;$('.site-menu a[href="'+i+'"]').addClass("active")});