var pagehead = document.querySelector('.page-head');
//var breadcrumb = document.querySelector('.breadcrumb');
var origOffsetY = pagehead.offsetTop;
var inpagenav = document.querySelector('.mfd-tabs-dektop');
//var header = document.querySelector('header');

function onScroll() {

    //console.log("window.scrollY: " + window.scrollY);

    if (window.scrollY >= 45) {
        //header.classList.add('slip');
        //breadcrumb.classList.add('slip');
    } else {
        //header.classList.remove('slip');
        //breadcrumb.classList.remove('slip');
    }

    if (window.scrollY >= origOffsetY) {
        pagehead.classList.add('stickit');

        inpagenav.classList.add('dropshadow'); // only on desktop
    } else {
        pagehead.classList.remove('stickit');

        inpagenav.classList.remove('dropshadow'); // only on desktop
    }

}

document.addEventListener('scroll', onScroll);


$(document).ready(function() {

    // adds selected state to desktop tabs
    $(".mfd-tabs-dektop a").on("click", function() {
        $(".mfd-tabs-dektop a").removeClass("selected");
        $(this).addClass("selected");
    });

    // Add smooth scrolling to all sections on desktop tabs
    $(".smoothscroll a").on('click', function(event) {
        if (this.hash !== "") {
            event.preventDefault();
            var hash = this.hash;
            $('html, body').animate({
                scrollTop: $(hash).offset().top
            }, 800, function() {
                window.location.hash = hash;
            });
        }
    });


    $("h2").on('click', function() {

        var tab = $(this).data("tab");
        var selectedTab = $("#" + tab);

        var sectionOffset = $(this).next(".container").offset().top;
        var tabOffset = selectedTab.offset().top
        var scrollAdjust = ((tabOffset - sectionOffset) + 90 + 50 + 1); // height of stick + height of button + border bottom

        $(this).toggleClass("open");
        //$(this).next(".container").show("fast");

        //    console.log("tabOffset: " + tabOffset);
        //    console.log("sectionOffset: " + sectionOffset);
        // console.log("scrollAdjust: " + scrollAdjust);
        //    console.log("");

        if (!$(this).hasClass("open")) {
            $(this).next(".container").slideUp("fast");
            if (scrollAdjust > 90) {
                $('body, html').animate({
                    scrollTop: selectedTab.offset().top - scrollAdjust
                }, 1);
            }
        } else {
            $(this).next(".container").slideDown("fast");
        }

    });

    $('.foo-table').footable();

    $('[data-toggle="popover"]').popover(

    )

    $('.performance .nav-tabs a').click(function(e) {
        e.preventDefault()
        $(this).tab('show')
    })

    $('.portfolio .nav-tabs a').click(function(e) {
        e.preventDefault()
        $(this).tab('show')
    })

});


